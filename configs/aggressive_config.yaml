# Aggressive Risk Configuration
# Maximize returns by letting positions run - Accept larger drawdowns for higher total returns
# Based on backtest results: 331% return, -39.4% max drawdown, 1.29x W/L ratio

config_name: "aggressive"
config_version: "1.0"
description: "Aggressive: NO MA_Crossdown - Pursues maximum returns (331%) with acceptance of larger drawdowns (-39.4%). Lower thresholds (5.5), tight time stops (8 bars), SPY-only regime filter. Best for: Risk-tolerant traders seeking highest returns."

risk_management:
  account_value: 100000
  risk_pct_per_trade: 1.0  # Standardized across all configs
  stop_strategy: "static"
  time_stop_bars: 8  # Tighter time stop (vs 12 baseline)
  
  stop_params:
    static:
      enabled: true
    vol_regime:
      low_vol_mult: 1.5
      normal_vol_mult: 2.0
      high_vol_mult: 2.5
      low_threshold: -0.5
      high_threshold: 0.5
    atr_dynamic:
      multiplier: 2.0
      min_multiplier: 1.5
      max_multiplier: 3.0
    pct_trail:
      trail_pct: 8.0
      activation_r: 1.0
    time_decay:
      day_5_mult: 2.5
      day_10_mult: 2.0
      day_15_mult: 1.5

transaction_costs:
  slippage_pct: 0.10        # 10 basis points per side (STRESS TEST - 2x normal)
  commission_per_share: 0.005  # $0.005/share commission (stress test scenario)
  enabled: true              # Master switch to disable costs for testing

signal_thresholds:
  entry:
    moderate_buy_pullback: 5.5  # Lower threshold for more entries
    stealth_accumulation: 3.5
    strong_buy: 5.5
    volume_breakout: 5.5
  exit:
    momentum_exhaustion: 5.0
    profit_taking: 5.0
    distribution_warning: 5.0
    ma_crossdown: 5.0  # Not used (disabled below)
  enabled_entry_signals:
    - "moderate_buy_pullback"
  enabled_exit_signals:
    - "momentum_exhaustion"
    - "profit_taking"
    - "distribution_warning"
    # NOTE: ma_crossdown NOT included - deprecated strategy (see below)

# ⚠️⚠️⚠️ MA_CROSSDOWN EXIT STRATEGY - DEPRECATED ⚠️⚠️⚠️
# This exit strategy has been DISABLED based on empirical evidence from Dec 2025 backtesting.
#
# EVIDENCE (Full cycle test: Mar 2022 - Dec 2025):
# - INCREASED max drawdown from -36.97% to -52.77% (43% WORSE, not better!)
# - REDUCED win rate from 53.7% to 44.1% (lost 403 winning trades)
# - REDUCED total return from 307.72% to 264.19%
# - REDUCED Sharpe ratio from 1.62 to 1.34
# - Created excessive whipsaws in volatile markets (2022 bear market)
#
# WHY IT FAILED:
# 1. 50-day MA too close to price - triggers on normal volatility, not real trend breaks
# 2. Cuts winning positions during healthy pullbacks
# 3. Forces exits that prevent positions from recovering
# 4. Re-entry after whipsaw creates "buy high, sell low" pattern
#
# PREVIOUS RATIONALE WAS INCORRECT:
# Old claim: "331% return vs 259% with MA_Crossdown"
# Reality: This comparison was misleading - MA_Crossdown actually REDUCED returns
# and INCREASED drawdowns when tested properly over full market cycles.
#
# RECOMMENDATION: Use standard exit signals instead (they work better):
# - Profit Taking: Captures gains at appropriate levels
# - Momentum Exhaustion: Exits when upward momentum fades
# - Distribution Warning: Exits on confirmed distribution
# - Stop Loss: Hard stop for risk management
#
# FULL ANALYSIS: See backtest_comparison_all_three_configs.txt
# DO NOT RE-ENABLE unless you have new evidence contradicting these results.
#
exit_signal_params:
  ma_crossdown:
    enabled: false  # ⚠️ DISABLED - Proven harmful (see warning above)
    ma_period: 48
    confirmation_days: 1
    buffer_pct: 0.0

regime_filters:
  enable_spy_regime: true
  enable_sector_regime: false  # Less strict - SPY only
  require_both_regimes: false
  sector_mapping_file: "ticker_lists/sector_mappings.csv"

profit_management:
  enable_profit_scaling: true
  profit_target_r: 2.0
  profit_exit_pct: 0.5
  enable_trailing_stop: true
  trail_lookback_bars: 10

max_loss:
  enable_max_loss: false
  max_loss_pct: 20.0

backtest:
  start_date: null
  end_date: null
  lookback_months: 36
  generate_charts: true
  chart_save_dir: "backtest_results"
  generate_trade_log: true
